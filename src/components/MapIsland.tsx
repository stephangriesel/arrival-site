import { MapContainer, TileLayer, Polyline, CircleMarker, useMap } from 'react-leaflet';
import 'leaflet/dist/leaflet.css';
import { useEffect, useState } from 'react';
import { Locate } from 'lucide-react';

// Route Data
const ROUTES = {
    sanctuary: {
        name: 'Park',
        color: '#FF9F1C', // Neon Orange
        center: [52.3580, 4.8686] as [number, number],
        zoom: 14,
        distance: '4.22km',
        path: [
            [52.361693, 4.881674],
            [52.36159, 4.881567],
            [52.361552, 4.881457],
            [52.361398, 4.880916],
            [52.361251, 4.880443],
            [52.360913, 4.879514],
            [52.360803, 4.879091],
            [52.36074, 4.878757],
            [52.360715, 4.878577],
            [52.360656, 4.878008],
            [52.360613, 4.877399],
            [52.360593, 4.877227],
            [52.360572, 4.877122],
            [52.36056, 4.877055],
            [52.360291, 4.875991],
            [52.360226, 4.875819],
            [52.360286, 4.87572],
            [52.360325, 4.875656],
            [52.360376, 4.875578],
            [52.360412, 4.875529],
            [52.36044, 4.875481],
            [52.360511, 4.875365],
            [52.360593, 4.875228],
            [52.360679, 4.87508],
            [52.360761, 4.874906],
            [52.360812, 4.874761],
            [52.360837, 4.874577],
            [52.360838, 4.874408],
            [52.36083, 4.874282],
            [52.360806, 4.874123],
            [52.36093, 4.874032],
            [52.360914, 4.873968],
            [52.360873, 4.873967],
            [52.36083, 4.873936],
            [52.3608, 4.873898],
            [52.360777, 4.873851],
            [52.360691, 4.873505],
            [52.360616, 4.873141],
            [52.360544, 4.872965],
            [52.360479, 4.87286],
            [52.360426, 4.872827],
            [52.36024, 4.872719],
            [52.360149, 4.872666],
            [52.360079, 4.872612],
            [52.360029, 4.872555],
            [52.359961, 4.872432],
            [52.359918, 4.872336],
            [52.35988, 4.872187],
            [52.359869, 4.872117],
            [52.35985, 4.872007],
            [52.359822, 4.872016],
            [52.359784, 4.871853],
            [52.359738, 4.871698],
            [52.359654, 4.871495],
            [52.359569, 4.871327],
            [52.359257, 4.870814],
            [52.359134, 4.87055],
            [52.359068, 4.870298],
            [52.359051, 4.87014],
            [52.359034, 4.869881],
            [52.359015, 4.869759],
            [52.358976, 4.869551],
            [52.35891, 4.869326],
            [52.35886, 4.869199],
            [52.358739, 4.868949],
            [52.358682, 4.868855],
            [52.358578, 4.868718],
            [52.358486, 4.868662],
            [52.358366, 4.868629],
            [52.358302, 4.868619],
            [52.358253, 4.868611],
            [52.358195, 4.868604],
            [52.358118, 4.868444],
            [52.357995, 4.868123],
            [52.357926, 4.867887],
            [52.357913, 4.867746],
            [52.357917, 4.867598],
            [52.357963, 4.867352],
            [52.357966, 4.867344],
            [52.357999, 4.867283],
            [52.358017, 4.867253],
            [52.358065, 4.867142],
            [52.358115, 4.866959],
            [52.358316, 4.866558],
            [52.358482, 4.866295],
            [52.358586, 4.866132],
            [52.358683, 4.865958],
            [52.358744, 4.865868],
            [52.358785, 4.86568],
            [52.358795, 4.865487],
            [52.358783, 4.865297],
            [52.358744, 4.865069],
            [52.358248, 4.863143],
            [52.358212, 4.863003],
            [52.358184, 4.862895],
            [52.357822, 4.861491],
            [52.357722, 4.86111],
            [52.357646, 4.86078],
            [52.357499, 4.860209],
            [52.357379, 4.859677],
            [52.356754, 4.857243],
            [52.35663, 4.856702],
            [52.356437, 4.855955],
            [52.356377, 4.855801],
            [52.356318, 4.855697],
            [52.356213, 4.855578],
            [52.3561, 4.855506],
            [52.356001, 4.855482],
            [52.355875, 4.855491],
            [52.355832, 4.855511],
            [52.355786, 4.855533],
            [52.355713, 4.855594],
            [52.355639, 4.855666],
            [52.355453, 4.855938],
            [52.355382, 4.856072],
            [52.355372, 4.856112],
            [52.355189, 4.856876],
            [52.355164, 4.85698],
            [52.355125, 4.857495],
            [52.355123, 4.857528],
            [52.355111, 4.85786],
            [52.355112, 4.858225],
            [52.355136, 4.858636],
            [52.355201, 4.859118],
            [52.355306, 4.859656],
            [52.355476, 4.860256],
            [52.355514, 4.86037],
            [52.355781, 4.861175],
            [52.355892, 4.861644],
            [52.355959, 4.861963],
            [52.35602, 4.862379],
            [52.356075, 4.862843],
            [52.356141, 4.863722],
            [52.356165, 4.864396],
            [52.356173, 4.864611],
            [52.356178, 4.864776],
            [52.356194, 4.865062],
            [52.356225, 4.865368],
            [52.356296, 4.865884],
            [52.356309, 4.865979],
            [52.356361, 4.866225],
            [52.356383, 4.866335],
            [52.356493, 4.866789],
            [52.356576, 4.867088],
            [52.356606, 4.867162],
            [52.35676, 4.867686],
            [52.356831, 4.867889],
            [52.356931, 4.868136],
            [52.356951, 4.868181],
            [52.357176, 4.868677],
            [52.357299, 4.868917],
            [52.357439, 4.869165],
            [52.35748, 4.869388],
            [52.357453, 4.869798],
            [52.357451, 4.870079],
            [52.357469, 4.870302],
            [52.357524, 4.870586],
            [52.357578, 4.870782],
            [52.357653, 4.870989],
            [52.357686, 4.871061],
            [52.357834, 4.871387],
            [52.357954, 4.871633],
            [52.358, 4.87183],
            [52.358141, 4.872797],
            [52.358198, 4.873099],
            [52.358292, 4.873451],
            [52.358348, 4.873634],
            [52.35847, 4.873954],
            [52.358546, 4.874074],
            [52.358757, 4.874366],
            [52.358788, 4.874398],
            [52.358818, 4.87443],
            [52.358905, 4.874519],
            [52.359127, 4.874688],
            [52.359233, 4.874744],
            [52.359314, 4.874769],
            [52.359416, 4.874785],
            [52.359465, 4.874793],
            [52.359557, 4.874821],
            [52.359619, 4.87496],
            [52.359665, 4.875064],
            [52.359741, 4.875217],
            [52.359946, 4.875509],
            [52.360074, 4.875648],
            [52.360108, 4.875686],
            [52.360174, 4.875739],
            [52.360226, 4.875819],
            [52.360291, 4.875991],
            [52.36056, 4.877055],
            [52.360593, 4.877227],
            [52.360613, 4.877399],
            [52.360656, 4.878008],
            [52.360715, 4.878577],
            [52.36074, 4.878757],
            [52.360803, 4.879091],
            [52.360913, 4.879514],
            [52.361251, 4.880443],
            [52.361398, 4.880916],
            [52.361552, 4.881457],
            [52.36159, 4.881567],
            [52.361694, 4.881676],
            [52.361722, 4.881695],
            [52.36175, 4.881619],
            [52.361765, 4.881568]
        ] as [number, number][]
    },
    river: {
        name: 'River',
        color: '#39FF14', // Neon Green/Blue
        center: [52.3500, 4.9100] as [number, number],
        zoom: 13,
        distance: '10km',
        path: [
            [
                52.358634,
                4.903763
            ],
            [
                52.358636,
                4.903833
            ],
            [
                52.35864,
                4.90401
            ],
            [
                52.358592,
                4.903997
            ],
            [
                52.358531,
                4.903995
            ],
            [
                52.35848,
                4.904007
            ],
            [
                52.358315,
                4.904071
            ],
            [
                52.357924,
                4.904233
            ],
            [
                52.357338,
                4.904494
            ],
            [
                52.356712,
                4.904827
            ],
            [
                52.356212,
                4.905114
            ],
            [
                52.356186,
                4.905139
            ],
            [
                52.356142,
                4.905208
            ],
            [
                52.356073,
                4.905244
            ],
            [
                52.356038,
                4.905262
            ],
            [
                52.356028,
                4.905267
            ],
            [
                52.356014,
                4.905275
            ],
            [
                52.355984,
                4.905289
            ],
            [
                52.355964,
                4.905297
            ],
            [
                52.355949,
                4.905306
            ],
            [
                52.35589,
                4.905338
            ],
            [
                52.355865,
                4.905352
            ],
            [
                52.355796,
                4.905392
            ],
            [
                52.355658,
                4.90551
            ],
            [
                52.355447,
                4.905671
            ],
            [
                52.355302,
                4.905765
            ],
            [
                52.355076,
                4.905942
            ],
            [
                52.354842,
                4.906145
            ],
            [
                52.354645,
                4.906322
            ],
            [
                52.354286,
                4.906639
            ],
            [
                52.3541,
                4.906805
            ],
            [
                52.353973,
                4.90694
            ],
            [
                52.353731,
                4.907227
            ],
            [
                52.353295,
                4.907703
            ],
            [
                52.353074,
                4.907942
            ],
            [
                52.352451,
                4.908456
            ],
            [
                52.351875,
                4.908837
            ],
            [
                52.351724,
                4.908928
            ],
            [
                52.35158,
                4.909032
            ],
            [
                52.351355,
                4.909171
            ],
            [
                52.351277,
                4.90922
            ],
            [
                52.350683,
                4.909524
            ],
            [
                52.350112,
                4.909793
            ],
            [
                52.349994,
                4.909839
            ],
            [
                52.349983,
                4.909843
            ],
            [
                52.349746,
                4.909937
            ],
            [
                52.349646,
                4.909981
            ],
            [
                52.34957,
                4.910013
            ],
            [
                52.349154,
                4.910185
            ],
            [
                52.349008,
                4.910237
            ],
            [
                52.348806,
                4.910355
            ],
            [
                52.34867,
                4.910466
            ],
            [
                52.348415,
                4.910737
            ],
            [
                52.347905,
                4.911395
            ],
            [
                52.347763,
                4.911544
            ],
            [
                52.347627,
                4.911664
            ],
            [
                52.347376,
                4.911828
            ],
            [
                52.347339,
                4.911879
            ],
            [
                52.347319,
                4.911927
            ],
            [
                52.347299,
                4.911959
            ],
            [
                52.347248,
                4.911979
            ],
            [
                52.347243,
                4.911981
            ],
            [
                52.347236,
                4.911984
            ],
            [
                52.347222,
                4.911989
            ],
            [
                52.347179,
                4.912007
            ],
            [
                52.347152,
                4.912018
            ],
            [
                52.347123,
                4.912028
            ],
            [
                52.347099,
                4.912015
            ],
            [
                52.347042,
                4.912019
            ],
            [
                52.347045,
                4.912044
            ],
            [
                52.346827,
                4.91213
            ],
            [
                52.346743,
                4.912157
            ],
            [
                52.346489,
                4.912237
            ],
            [
                52.346359,
                4.912274
            ],
            [
                52.345984,
                4.912413
            ],
            [
                52.345826,
                4.912472
            ],
            [
                52.345735,
                4.912502
            ],
            [
                52.345646,
                4.912524
            ],
            [
                52.345473,
                4.912556
            ],
            [
                52.345313,
                4.912585
            ],
            [
                52.345106,
                4.912622
            ],
            [
                52.344815,
                4.912679
            ],
            [
                52.344747,
                4.912698
            ],
            [
                52.344693,
                4.912717
            ],
            [
                52.344589,
                4.912756
            ],
            [
                52.344442,
                4.912824
            ],
            [
                52.344353,
                4.912847
            ],
            [
                52.344146,
                4.912949
            ],
            [
                52.34385,
                4.913103
            ],
            [
                52.343776,
                4.913142
            ],
            [
                52.343657,
                4.913202
            ],
            [
                52.343515,
                4.913259
            ],
            [
                52.34338,
                4.913311
            ],
            [
                52.343334,
                4.913329
            ],
            [
                52.343223,
                4.913342
            ],
            [
                52.343116,
                4.91335
            ],
            [
                52.343076,
                4.913366
            ],
            [
                52.342723,
                4.913587
            ],
            [
                52.342407,
                4.913758
            ],
            [
                52.342214,
                4.913813
            ],
            [
                52.342086,
                4.913826
            ],
            [
                52.342016,
                4.913815
            ],
            [
                52.341969,
                4.913801
            ],
            [
                52.341682,
                4.913655
            ],
            [
                52.341454,
                4.913493
            ],
            [
                52.341387,
                4.91344
            ],
            [
                52.341105,
                4.913175
            ],
            [
                52.341087,
                4.913156
            ],
            [
                52.341056,
                4.913196
            ],
            [
                52.34104,
                4.913217
            ],
            [
                52.340915,
                4.913066
            ],
            [
                52.340768,
                4.912847
            ],
            [
                52.340529,
                4.912453
            ],
            [
                52.340427,
                4.912255
            ],
            [
                52.340297,
                4.911985
            ],
            [
                52.340223,
                4.911813
            ],
            [
                52.340194,
                4.911733
            ],
            [
                52.340162,
                4.911653
            ],
            [
                52.340194,
                4.911733
            ],
            [
                52.340223,
                4.911813
            ],
            [
                52.340297,
                4.911985
            ],
            [
                52.340427,
                4.912255
            ],
            [
                52.340529,
                4.912453
            ],
            [
                52.340768,
                4.912847
            ],
            [
                52.340915,
                4.913066
            ],
            [
                52.34104,
                4.913217
            ],
            [
                52.341056,
                4.913196
            ],
            [
                52.341087,
                4.913156
            ],
            [
                52.341105,
                4.913175
            ],
            [
                52.341387,
                4.91344
            ],
            [
                52.341454,
                4.913493
            ],
            [
                52.341682,
                4.913655
            ],
            [
                52.341969,
                4.913801
            ],
            [
                52.342016,
                4.913815
            ],
            [
                52.342086,
                4.913826
            ],
            [
                52.342214,
                4.913813
            ],
            [
                52.342407,
                4.913758
            ],
            [
                52.342723,
                4.913587
            ],
            [
                52.343076,
                4.913366
            ],
            [
                52.343116,
                4.91335
            ],
            [
                52.343223,
                4.913342
            ],
            [
                52.343334,
                4.913329
            ],
            [
                52.34338,
                4.913311
            ],
            [
                52.343515,
                4.913259
            ],
            [
                52.343657,
                4.913202
            ],
            [
                52.343776,
                4.913142
            ],
            [
                52.34385,
                4.913103
            ],
            [
                52.344146,
                4.912949
            ],
            [
                52.344353,
                4.912847
            ],
            [
                52.344442,
                4.912824
            ],
            [
                52.344589,
                4.912756
            ],
            [
                52.344693,
                4.912717
            ],
            [
                52.344747,
                4.912698
            ],
            [
                52.344815,
                4.912679
            ],
            [
                52.345106,
                4.912622
            ],
            [
                52.345313,
                4.912585
            ],
            [
                52.345473,
                4.912556
            ],
            [
                52.345646,
                4.912524
            ],
            [
                52.345735,
                4.912502
            ],
            [
                52.345826,
                4.912472
            ],
            [
                52.345984,
                4.912413
            ],
            [
                52.346359,
                4.912274
            ],
            [
                52.346489,
                4.912237
            ],
            [
                52.346743,
                4.912157
            ],
            [
                52.346827,
                4.91213
            ],
            [
                52.347045,
                4.912044
            ],
            [
                52.347042,
                4.912019
            ],
            [
                52.347099,
                4.912015
            ],
            [
                52.347123,
                4.912028
            ],
            [
                52.347152,
                4.912018
            ],
            [
                52.347179,
                4.912007
            ],
            [
                52.347222,
                4.911989
            ],
            [
                52.347236,
                4.911984
            ],
            [
                52.347243,
                4.911981
            ],
            [
                52.347248,
                4.911979
            ],
            [
                52.347299,
                4.911959
            ],
            [
                52.347319,
                4.911927
            ],
            [
                52.347339,
                4.911879
            ],
            [
                52.347376,
                4.911828
            ],
            [
                52.347627,
                4.911664
            ],
            [
                52.347763,
                4.911544
            ],
            [
                52.347905,
                4.911395
            ],
            [
                52.348415,
                4.910737
            ],
            [
                52.34867,
                4.910466
            ],
            [
                52.348806,
                4.910355
            ],
            [
                52.349008,
                4.910237
            ],
            [
                52.349154,
                4.910185
            ],
            [
                52.34957,
                4.910013
            ],
            [
                52.349646,
                4.909981
            ],
            [
                52.349746,
                4.909937
            ],
            [
                52.349983,
                4.909843
            ],
            [
                52.349994,
                4.909839
            ],
            [
                52.350112,
                4.909793
            ],
            [
                52.350683,
                4.909524
            ],
            [
                52.351277,
                4.90922
            ],
            [
                52.351355,
                4.909171
            ],
            [
                52.35158,
                4.909032
            ],
            [
                52.351724,
                4.908928
            ],
            [
                52.351875,
                4.908837
            ],
            [
                52.352451,
                4.908456
            ],
            [
                52.353074,
                4.907942
            ],
            [
                52.353295,
                4.907703
            ],
            [
                52.353731,
                4.907227
            ],
            [
                52.353973,
                4.90694
            ],
            [
                52.3541,
                4.906805
            ],
            [
                52.354286,
                4.906639
            ],
            [
                52.354645,
                4.906322
            ],
            [
                52.354842,
                4.906145
            ],
            [
                52.355076,
                4.905942
            ],
            [
                52.355302,
                4.905765
            ],
            [
                52.355447,
                4.905671
            ],
            [
                52.355658,
                4.90551
            ],
            [
                52.355796,
                4.905392
            ],
            [
                52.355865,
                4.905352
            ],
            [
                52.35589,
                4.905338
            ],
            [
                52.355949,
                4.905306
            ],
            [
                52.355964,
                4.905297
            ],
            [
                52.355984,
                4.905289
            ],
            [
                52.356014,
                4.905275
            ],
            [
                52.356028,
                4.905267
            ],
            [
                52.356038,
                4.905262
            ],
            [
                52.356073,
                4.905244
            ],
            [
                52.356142,
                4.905208
            ],
            [
                52.356186,
                4.905139
            ],
            [
                52.356212,
                4.905114
            ],
            [
                52.356712,
                4.904827
            ],
            [
                52.357338,
                4.904494
            ],
            [
                52.357924,
                4.904233
            ],
            [
                52.358315,
                4.904071
            ],
            [
                52.35848,
                4.904007
            ],
            [
                52.358531,
                4.903995
            ],
            [
                52.358592,
                4.903997
            ],
            [
                52.35864,
                4.90401
            ],
            [
                52.358642,
                4.904023
            ],
            [
                52.358649,
                4.904079
            ],
            [
                52.358676,
                4.904065
            ],
            [
                52.358745,
                4.904029
            ],
            [
                52.358824,
                4.903989
            ]
        ] as [number, number][]
    },
    city: {
        name: 'City',
        color: '#FF00FF', // Neon Pink
        center: [52.3700, 4.8900] as [number, number],
        zoom: 14,
        distance: '12.17km',
        path: [
            [
                52.362307,
                4.880417
            ],
            [
                52.362344,
                4.880563
            ],
            [
                52.361922,
                4.881135
            ],
            [
                52.361867,
                4.881295
            ],
            [
                52.3618,
                4.881465
            ],
            [
                52.361775,
                4.88154
            ],
            [
                52.36175,
                4.881619
            ],
            [
                52.361722,
                4.881695
            ],
            [
                52.361699,
                4.881761
            ],
            [
                52.361679,
                4.881822
            ],
            [
                52.36161,
                4.882082
            ],
            [
                52.361604,
                4.88218
            ],
            [
                52.361606,
                4.882261
            ],
            [
                52.361606,
                4.882273
            ],
            [
                52.361607,
                4.882322
            ],
            [
                52.361608,
                4.882349
            ],
            [
                52.361611,
                4.882464
            ],
            [
                52.361609,
                4.883435
            ],
            [
                52.361594,
                4.883583
            ],
            [
                52.361541,
                4.883791
            ],
            [
                52.361468,
                4.884
            ],
            [
                52.361265,
                4.884438
            ],
            [
                52.36129,
                4.884481
            ],
            [
                52.361327,
                4.884533
            ],
            [
                52.361357,
                4.884572
            ],
            [
                52.361097,
                4.885129
            ],
            [
                52.360704,
                4.885917
            ],
            [
                52.360642,
                4.886038
            ],
            [
                52.360623,
                4.886076
            ],
            [
                52.360604,
                4.886114
            ],
            [
                52.360539,
                4.886244
            ],
            [
                52.360509,
                4.886292
            ],
            [
                52.360236,
                4.886853
            ],
            [
                52.360143,
                4.887041
            ],
            [
                52.360103,
                4.88712
            ],
            [
                52.360052,
                4.887219
            ],
            [
                52.359784,
                4.887707
            ],
            [
                52.359657,
                4.887885
            ],
            [
                52.359406,
                4.888152
            ],
            [
                52.359382,
                4.888157
            ],
            [
                52.359122,
                4.888436
            ],
            [
                52.358895,
                4.888729
            ],
            [
                52.358705,
                4.889007
            ],
            [
                52.358504,
                4.889438
            ],
            [
                52.358424,
                4.889645
            ],
            [
                52.358324,
                4.889969
            ],
            [
                52.358331,
                4.89003
            ],
            [
                52.358329,
                4.890084
            ],
            [
                52.358292,
                4.890225
            ],
            [
                52.358248,
                4.890315
            ],
            [
                52.35823,
                4.890367
            ],
            [
                52.358205,
                4.890472
            ],
            [
                52.358192,
                4.890576
            ],
            [
                52.35815,
                4.890582
            ],
            [
                52.358068,
                4.890594
            ],
            [
                52.358038,
                4.890598
            ],
            [
                52.35802,
                4.8906
            ],
            [
                52.358071,
                4.890324
            ],
            [
                52.358138,
                4.890048
            ],
            [
                52.358185,
                4.88987
            ],
            [
                52.358249,
                4.889663
            ],
            [
                52.358185,
                4.88987
            ],
            [
                52.358138,
                4.890048
            ],
            [
                52.358071,
                4.890324
            ],
            [
                52.35802,
                4.8906
            ],
            [
                52.358006,
                4.890702
            ],
            [
                52.358,
                4.890736
            ],
            [
                52.357992,
                4.890766
            ],
            [
                52.357979,
                4.890821
            ],
            [
                52.357978,
                4.890836
            ],
            [
                52.357976,
                4.890861
            ],
            [
                52.357973,
                4.890937
            ],
            [
                52.35797,
                4.891058
            ],
            [
                52.357973,
                4.891327
            ],
            [
                52.357953,
                4.89166
            ],
            [
                52.357904,
                4.891926
            ],
            [
                52.35785,
                4.892838
            ],
            [
                52.357911,
                4.892843
            ],
            [
                52.357978,
                4.892857
            ],
            [
                52.357897,
                4.893941
            ],
            [
                52.357785,
                4.895855
            ],
            [
                52.357685,
                4.897847
            ],
            [
                52.357706,
                4.89792
            ],
            [
                52.357723,
                4.897949
            ],
            [
                52.357751,
                4.897984
            ],
            [
                52.357757,
                4.898018
            ],
            [
                52.357761,
                4.898336
            ],
            [
                52.357776,
                4.898503
            ],
            [
                52.357878,
                4.899017
            ],
            [
                52.357909,
                4.899178
            ],
            [
                52.357924,
                4.899253
            ],
            [
                52.357926,
                4.899276
            ],
            [
                52.357928,
                4.899292
            ],
            [
                52.35794,
                4.899361
            ],
            [
                52.357959,
                4.899463
            ],
            [
                52.357982,
                4.899582
            ],
            [
                52.358242,
                4.901096
            ],
            [
                52.35835,
                4.901481
            ],
            [
                52.35843,
                4.901697
            ],
            [
                52.358464,
                4.901813
            ],
            [
                52.358469,
                4.901937
            ],
            [
                52.358483,
                4.902032
            ],
            [
                52.358506,
                4.902147
            ],
            [
                52.358794,
                4.903565
            ],
            [
                52.358803,
                4.903632
            ],
            [
                52.358845,
                4.903904
            ],
            [
                52.358859,
                4.903972
            ],
            [
                52.359202,
                4.905592
            ],
            [
                52.359258,
                4.905887
            ],
            [
                52.35934,
                4.906237
            ],
            [
                52.359532,
                4.906668
            ],
            [
                52.359761,
                4.907112
            ],
            [
                52.360049,
                4.907621
            ],
            [
                52.360191,
                4.907912
            ],
            [
                52.360322,
                4.90816
            ],
            [
                52.360256,
                4.908215
            ],
            [
                52.360143,
                4.907975
            ],
            [
                52.359985,
                4.907672
            ],
            [
                52.360143,
                4.907975
            ],
            [
                52.360256,
                4.908215
            ],
            [
                52.360322,
                4.90816
            ],
            [
                52.360351,
                4.908231
            ],
            [
                52.36038,
                4.908365
            ],
            [
                52.360413,
                4.908523
            ],
            [
                52.360439,
                4.908651
            ],
            [
                52.360452,
                4.908739
            ],
            [
                52.360461,
                4.908825
            ],
            [
                52.360463,
                4.909039
            ],
            [
                52.360441,
                4.909655
            ],
            [
                52.36042,
                4.909932
            ],
            [
                52.360418,
                4.910094
            ],
            [
                52.360425,
                4.91027
            ],
            [
                52.360442,
                4.910395
            ],
            [
                52.360474,
                4.910514
            ],
            [
                52.360572,
                4.910733
            ],
            [
                52.36061,
                4.910851
            ],
            [
                52.360697,
                4.911072
            ],
            [
                52.360778,
                4.91134
            ],
            [
                52.360927,
                4.911628
            ],
            [
                52.360934,
                4.911679
            ],
            [
                52.361019,
                4.911857
            ],
            [
                52.36106,
                4.912022
            ],
            [
                52.361076,
                4.912128
            ],
            [
                52.361163,
                4.913226
            ],
            [
                52.361221,
                4.913695
            ],
            [
                52.36127,
                4.913998
            ],
            [
                52.361328,
                4.914255
            ],
            [
                52.361394,
                4.91452
            ],
            [
                52.361514,
                4.91494
            ],
            [
                52.361538,
                4.915014
            ],
            [
                52.361571,
                4.915082
            ],
            [
                52.361587,
                4.915141
            ],
            [
                52.361593,
                4.915162
            ],
            [
                52.361597,
                4.915181
            ],
            [
                52.361612,
                4.915239
            ],
            [
                52.361632,
                4.915328
            ],
            [
                52.361662,
                4.915426
            ],
            [
                52.361782,
                4.915856
            ],
            [
                52.361845,
                4.916112
            ],
            [
                52.361878,
                4.916304
            ],
            [
                52.361908,
                4.916586
            ],
            [
                52.361918,
                4.91676
            ],
            [
                52.361893,
                4.916981
            ],
            [
                52.361926,
                4.91779
            ],
            [
                52.361951,
                4.918017
            ],
            [
                52.361983,
                4.918219
            ],
            [
                52.362037,
                4.918463
            ],
            [
                52.36212,
                4.918767
            ],
            [
                52.362235,
                4.91903
            ],
            [
                52.362353,
                4.919219
            ],
            [
                52.362967,
                4.92002
            ],
            [
                52.363016,
                4.920069
            ],
            [
                52.363042,
                4.920101
            ],
            [
                52.363076,
                4.920186
            ],
            [
                52.363084,
                4.920206
            ],
            [
                52.36309,
                4.920222
            ],
            [
                52.363104,
                4.920273
            ],
            [
                52.363114,
                4.920313
            ],
            [
                52.363118,
                4.920387
            ],
            [
                52.36312,
                4.920471
            ],
            [
                52.363212,
                4.921526
            ],
            [
                52.363237,
                4.921717
            ],
            [
                52.363286,
                4.921922
            ],
            [
                52.363352,
                4.922096
            ],
            [
                52.363389,
                4.922184
            ],
            [
                52.36343,
                4.922281
            ],
            [
                52.363763,
                4.922823
            ],
            [
                52.363828,
                4.922916
            ],
            [
                52.364076,
                4.923264
            ],
            [
                52.364549,
                4.924028
            ],
            [
                52.364608,
                4.924126
            ],
            [
                52.364575,
                4.924178
            ],
            [
                52.364554,
                4.924211
            ],
            [
                52.364534,
                4.924244
            ],
            [
                52.364515,
                4.924273
            ],
            [
                52.36448,
                4.924337
            ],
            [
                52.36467,
                4.92513
            ],
            [
                52.364898,
                4.926196
            ],
            [
                52.365325,
                4.925942
            ],
            [
                52.365666,
                4.92659
            ],
            [
                52.365677,
                4.926687
            ],
            [
                52.365684,
                4.926759
            ],
            [
                52.365692,
                4.926822
            ],
            [
                52.365717,
                4.926928
            ],
            [
                52.365745,
                4.927047
            ],
            [
                52.365767,
                4.927057
            ],
            [
                52.365792,
                4.927108
            ],
            [
                52.365813,
                4.927161
            ],
            [
                52.365822,
                4.927216
            ],
            [
                52.365834,
                4.927483
            ],
            [
                52.365821,
                4.927654
            ],
            [
                52.365864,
                4.928776
            ],
            [
                52.365892,
                4.92925
            ],
            [
                52.365921,
                4.93032
            ],
            [
                52.365946,
                4.930681
            ],
            [
                52.365959,
                4.93089
            ],
            [
                52.36598,
                4.931784
            ],
            [
                52.365973,
                4.931888
            ],
            [
                52.365964,
                4.931945
            ],
            [
                52.365954,
                4.932018
            ],
            [
                52.365952,
                4.932114
            ],
            [
                52.365957,
                4.93218
            ],
            [
                52.365973,
                4.932292
            ],
            [
                52.365979,
                4.932319
            ],
            [
                52.365983,
                4.932344
            ],
            [
                52.366,
                4.932473
            ],
            [
                52.366007,
                4.932748
            ],
            [
                52.366005,
                4.932854
            ],
            [
                52.366006,
                4.932871
            ],
            [
                52.366024,
                4.93378
            ],
            [
                52.366024,
                4.933853
            ],
            [
                52.366081,
                4.933852
            ],
            [
                52.366124,
                4.933891
            ],
            [
                52.366149,
                4.933915
            ],
            [
                52.366215,
                4.933976
            ],
            [
                52.366265,
                4.934022
            ],
            [
                52.366302,
                4.933989
            ],
            [
                52.366311,
                4.933982
            ],
            [
                52.366311,
                4.933949
            ],
            [
                52.366312,
                4.933907
            ],
            [
                52.366313,
                4.933786
            ],
            [
                52.366313,
                4.933688
            ],
            [
                52.366351,
                4.933708
            ],
            [
                52.366802,
                4.933698
            ],
            [
                52.366865,
                4.933695
            ],
            [
                52.367099,
                4.933692
            ],
            [
                52.367369,
                4.933688
            ],
            [
                52.367387,
                4.933685
            ],
            [
                52.367412,
                4.933668
            ],
            [
                52.367497,
                4.933636
            ],
            [
                52.367592,
                4.933601
            ],
            [
                52.367659,
                4.933661
            ],
            [
                52.367714,
                4.933678
            ],
            [
                52.367994,
                4.933663
            ],
            [
                52.368282,
                4.933624
            ],
            [
                52.368505,
                4.933617
            ],
            [
                52.368552,
                4.933619
            ],
            [
                52.368667,
                4.933624
            ],
            [
                52.368965,
                4.933688
            ],
            [
                52.369124,
                4.933736
            ],
            [
                52.369601,
                4.933934
            ],
            [
                52.369784,
                4.933988
            ],
            [
                52.370069,
                4.934012
            ],
            [
                52.370836,
                4.933986
            ],
            [
                52.370925,
                4.933986
            ],
            [
                52.370977,
                4.933979
            ],
            [
                52.371014,
                4.93396
            ],
            [
                52.371065,
                4.933958
            ],
            [
                52.371139,
                4.933962
            ],
            [
                52.371236,
                4.93395
            ],
            [
                52.371238,
                4.934024
            ],
            [
                52.371236,
                4.93395
            ],
            [
                52.371284,
                4.933946
            ],
            [
                52.371345,
                4.933941
            ],
            [
                52.371502,
                4.933905
            ],
            [
                52.371789,
                4.933827
            ],
            [
                52.372118,
                4.933663
            ],
            [
                52.372459,
                4.933436
            ],
            [
                52.372498,
                4.933407
            ],
            [
                52.372536,
                4.933377
            ],
            [
                52.372571,
                4.933343
            ],
            [
                52.372632,
                4.933465
            ],
            [
                52.372689,
                4.933582
            ],
            [
                52.372747,
                4.933713
            ],
            [
                52.372782,
                4.933678
            ],
            [
                52.37308,
                4.933368
            ],
            [
                52.373229,
                4.933199
            ],
            [
                52.373339,
                4.933056
            ],
            [
                52.373441,
                4.932904
            ],
            [
                52.373683,
                4.932534
            ],
            [
                52.373809,
                4.932319
            ],
            [
                52.373956,
                4.932042
            ],
            [
                52.374123,
                4.931684
            ],
            [
                52.374383,
                4.931102
            ],
            [
                52.37469,
                4.930345
            ],
            [
                52.374805,
                4.930043
            ],
            [
                52.37484,
                4.929971
            ],
            [
                52.374919,
                4.92984
            ],
            [
                52.374959,
                4.929743
            ],
            [
                52.375035,
                4.92951
            ],
            [
                52.375113,
                4.929254
            ],
            [
                52.375125,
                4.929223
            ],
            [
                52.375157,
                4.929125
            ],
            [
                52.37517,
                4.929088
            ],
            [
                52.37519,
                4.929022
            ],
            [
                52.375204,
                4.928979
            ],
            [
                52.375206,
                4.928971
            ],
            [
                52.375363,
                4.928326
            ],
            [
                52.37541,
                4.928098
            ],
            [
                52.37564,
                4.926795
            ],
            [
                52.375824,
                4.925696
            ],
            [
                52.375963,
                4.924796
            ],
            [
                52.376047,
                4.92426
            ],
            [
                52.376159,
                4.9235
            ],
            [
                52.376218,
                4.923105
            ],
            [
                52.376367,
                4.922096
            ],
            [
                52.376382,
                4.921998
            ],
            [
                52.376391,
                4.921934
            ],
            [
                52.376405,
                4.921834
            ],
            [
                52.376427,
                4.921685
            ],
            [
                52.37644,
                4.921593
            ],
            [
                52.376447,
                4.921532
            ],
            [
                52.37646,
                4.921458
            ],
            [
                52.376517,
                4.92104
            ],
            [
                52.376627,
                4.920241
            ],
            [
                52.376674,
                4.919907
            ],
            [
                52.376753,
                4.919353
            ],
            [
                52.376787,
                4.919111
            ],
            [
                52.376861,
                4.918594
            ],
            [
                52.376876,
                4.918486
            ],
            [
                52.376905,
                4.918246
            ],
            [
                52.37691,
                4.918212
            ],
            [
                52.377108,
                4.91666
            ],
            [
                52.377116,
                4.916592
            ],
            [
                52.377118,
                4.916575
            ],
            [
                52.377146,
                4.916359
            ],
            [
                52.377198,
                4.91638
            ],
            [
                52.37722,
                4.916253
            ],
            [
                52.377274,
                4.915936
            ],
            [
                52.37734,
                4.915556
            ],
            [
                52.377347,
                4.91538
            ],
            [
                52.377496,
                4.913123
            ],
            [
                52.377507,
                4.912982
            ],
            [
                52.377529,
                4.912679
            ],
            [
                52.37758,
                4.911922
            ],
            [
                52.377595,
                4.911925
            ],
            [
                52.377627,
                4.911462
            ],
            [
                52.377641,
                4.911268
            ],
            [
                52.377635,
                4.91125
            ],
            [
                52.377577,
                4.91124
            ],
            [
                52.377585,
                4.911121
            ],
            [
                52.37759,
                4.911065
            ],
            [
                52.377604,
                4.91091
            ],
            [
                52.377693,
                4.910226
            ],
            [
                52.377695,
                4.91021
            ],
            [
                52.377767,
                4.910216
            ],
            [
                52.377832,
                4.910203
            ],
            [
                52.37785,
                4.910129
            ],
            [
                52.377864,
                4.91008
            ],
            [
                52.377828,
                4.910004
            ],
            [
                52.37785,
                4.90997
            ],
            [
                52.377865,
                4.909927
            ],
            [
                52.377883,
                4.909846
            ],
            [
                52.378156,
                4.907904
            ],
            [
                52.37832,
                4.906684
            ],
            [
                52.378332,
                4.906618
            ],
            [
                52.378354,
                4.906603
            ],
            [
                52.378394,
                4.906545
            ],
            [
                52.378405,
                4.90651
            ],
            [
                52.378457,
                4.906107
            ],
            [
                52.378481,
                4.905921
            ],
            [
                52.378512,
                4.905686
            ],
            [
                52.378586,
                4.905217
            ],
            [
                52.378589,
                4.905197
            ],
            [
                52.378652,
                4.904729
            ],
            [
                52.378654,
                4.904715
            ],
            [
                52.378687,
                4.904483
            ],
            [
                52.378746,
                4.904318
            ],
            [
                52.379126,
                4.903273
            ],
            [
                52.379458,
                4.902366
            ],
            [
                52.380016,
                4.900848
            ],
            [
                52.380179,
                4.900389
            ],
            [
                52.380395,
                4.899772
            ],
            [
                52.38048,
                4.89953
            ],
            [
                52.380555,
                4.899317
            ],
            [
                52.38061,
                4.899171
            ],
            [
                52.38068,
                4.898977
            ],
            [
                52.380756,
                4.898785
            ],
            [
                52.380795,
                4.898674
            ],
            [
                52.381035,
                4.898021
            ],
            [
                52.381338,
                4.897228
            ],
            [
                52.381474,
                4.896857
            ],
            [
                52.381492,
                4.896803
            ],
            [
                52.381524,
                4.896741
            ],
            [
                52.381753,
                4.896425
            ],
            [
                52.381723,
                4.896366
            ],
            [
                52.381686,
                4.896283
            ],
            [
                52.381663,
                4.896233
            ],
            [
                52.381603,
                4.896107
            ],
            [
                52.381571,
                4.896036
            ],
            [
                52.381545,
                4.895977
            ],
            [
                52.381862,
                4.895591
            ],
            [
                52.381962,
                4.895466
            ],
            [
                52.382074,
                4.89538
            ],
            [
                52.38228,
                4.895115
            ],
            [
                52.382313,
                4.895072
            ],
            [
                52.382501,
                4.894833
            ],
            [
                52.382622,
                4.894655
            ],
            [
                52.382678,
                4.894545
            ],
            [
                52.382707,
                4.894472
            ],
            [
                52.382746,
                4.894345
            ],
            [
                52.382781,
                4.894145
            ],
            [
                52.382788,
                4.89404
            ],
            [
                52.382791,
                4.894012
            ],
            [
                52.38279,
                4.893892
            ],
            [
                52.382764,
                4.893429
            ],
            [
                52.38275,
                4.893238
            ],
            [
                52.382764,
                4.893203
            ],
            [
                52.382792,
                4.893162
            ],
            [
                52.382848,
                4.893126
            ],
            [
                52.382836,
                4.893061
            ],
            [
                52.382853,
                4.893053
            ],
            [
                52.382832,
                4.89289
            ],
            [
                52.382813,
                4.892667
            ],
            [
                52.382809,
                4.892546
            ],
            [
                52.382821,
                4.892542
            ],
            [
                52.382816,
                4.892415
            ],
            [
                52.382805,
                4.892419
            ],
            [
                52.382794,
                4.892027
            ],
            [
                52.382722,
                4.891293
            ],
            [
                52.382704,
                4.891292
            ],
            [
                52.382685,
                4.89112
            ],
            [
                52.382643,
                4.89089
            ],
            [
                52.382608,
                4.890792
            ],
            [
                52.382554,
                4.890688
            ],
            [
                52.382489,
                4.890603
            ],
            [
                52.382254,
                4.890368
            ],
            [
                52.38207,
                4.890159
            ],
            [
                52.382023,
                4.890132
            ],
            [
                52.381983,
                4.890126
            ],
            [
                52.381937,
                4.890036
            ],
            [
                52.381899,
                4.88998
            ],
            [
                52.381369,
                4.889516
            ],
            [
                52.381431,
                4.889409
            ],
            [
                52.381532,
                4.889229
            ],
            [
                52.38158,
                4.889137
            ],
            [
                52.38173,
                4.888884
            ],
            [
                52.382032,
                4.888374
            ],
            [
                52.382074,
                4.888303
            ],
            [
                52.382428,
                4.887639
            ],
            [
                52.382481,
                4.88754
            ],
            [
                52.382784,
                4.886982
            ],
            [
                52.382886,
                4.886805
            ],
            [
                52.382973,
                4.886653
            ],
            [
                52.383273,
                4.886093
            ],
            [
                52.383313,
                4.886019
            ],
            [
                52.383836,
                4.885096
            ],
            [
                52.384355,
                4.884205
            ],
            [
                52.384367,
                4.884183
            ],
            [
                52.384374,
                4.884147
            ],
            [
                52.38437,
                4.8841
            ],
            [
                52.384317,
                4.883872
            ],
            [
                52.384317,
                4.88382
            ],
            [
                52.384332,
                4.883765
            ],
            [
                52.384555,
                4.883361
            ],
            [
                52.38456,
                4.883349
            ],
            [
                52.384568,
                4.883313
            ],
            [
                52.384575,
                4.883285
            ],
            [
                52.384594,
                4.883206
            ],
            [
                52.384599,
                4.883183
            ],
            [
                52.384606,
                4.883157
            ],
            [
                52.384615,
                4.883117
            ],
            [
                52.384629,
                4.883059
            ],
            [
                52.384646,
                4.882988
            ],
            [
                52.384787,
                4.882411
            ],
            [
                52.384839,
                4.882196
            ],
            [
                52.384885,
                4.882015
            ],
            [
                52.384898,
                4.881952
            ],
            [
                52.384902,
                4.881901
            ],
            [
                52.384903,
                4.881753
            ],
            [
                52.38488,
                4.881784
            ],
            [
                52.384862,
                4.88179
            ],
            [
                52.384846,
                4.881784
            ],
            [
                52.384855,
                4.881613
            ],
            [
                52.384846,
                4.881784
            ],
            [
                52.384862,
                4.88179
            ],
            [
                52.38488,
                4.881784
            ],
            [
                52.384903,
                4.881753
            ],
            [
                52.384902,
                4.881901
            ],
            [
                52.384898,
                4.881952
            ],
            [
                52.384885,
                4.882015
            ],
            [
                52.384839,
                4.882196
            ],
            [
                52.384787,
                4.882411
            ],
            [
                52.38448,
                4.882232
            ],
            [
                52.384394,
                4.882225
            ],
            [
                52.384342,
                4.882237
            ],
            [
                52.384279,
                4.882271
            ],
            [
                52.384196,
                4.882366
            ],
            [
                52.384136,
                4.882479
            ],
            [
                52.384082,
                4.882661
            ],
            [
                52.384073,
                4.882692
            ],
            [
                52.384072,
                4.882698
            ],
            [
                52.384052,
                4.882737
            ],
            [
                52.384041,
                4.882757
            ],
            [
                52.384032,
                4.882775
            ],
            [
                52.38402,
                4.882795
            ],
            [
                52.383921,
                4.882672
            ],
            [
                52.383844,
                4.882585
            ],
            [
                52.383775,
                4.882541
            ],
            [
                52.383727,
                4.882548
            ],
            [
                52.383695,
                4.882539
            ],
            [
                52.383329,
                4.882322
            ],
            [
                52.38329,
                4.882298
            ],
            [
                52.381974,
                4.881468
            ],
            [
                52.38179,
                4.881349
            ],
            [
                52.381169,
                4.880957
            ],
            [
                52.381073,
                4.880897
            ],
            [
                52.380881,
                4.880775
            ],
            [
                52.378504,
                4.879275
            ],
            [
                52.378395,
                4.8792
            ],
            [
                52.378147,
                4.879035
            ],
            [
                52.378108,
                4.879004
            ],
            [
                52.377968,
                4.878909
            ],
            [
                52.377792,
                4.878789
            ],
            [
                52.377515,
                4.878568
            ],
            [
                52.377451,
                4.878529
            ],
            [
                52.377127,
                4.878332
            ],
            [
                52.377042,
                4.878246
            ],
            [
                52.377026,
                4.878178
            ],
            [
                52.376383,
                4.877773
            ],
            [
                52.375363,
                4.87713
            ],
            [
                52.374916,
                4.876848
            ],
            [
                52.374747,
                4.87673
            ],
            [
                52.374728,
                4.876703
            ],
            [
                52.374607,
                4.876536
            ],
            [
                52.374518,
                4.876468
            ],
            [
                52.374316,
                4.876335
            ],
            [
                52.374141,
                4.876241
            ],
            [
                52.374089,
                4.876221
            ],
            [
                52.37404,
                4.876202
            ],
            [
                52.373979,
                4.876181
            ],
            [
                52.373924,
                4.876164
            ],
            [
                52.37386,
                4.876165
            ],
            [
                52.373776,
                4.876155
            ],
            [
                52.37373,
                4.876143
            ],
            [
                52.372827,
                4.875863
            ],
            [
                52.37266,
                4.875821
            ],
            [
                52.372393,
                4.875736
            ],
            [
                52.372312,
                4.875709
            ],
            [
                52.37229,
                4.875704
            ],
            [
                52.37227,
                4.875699
            ],
            [
                52.37223,
                4.875697
            ],
            [
                52.372224,
                4.875697
            ],
            [
                52.37218,
                4.875692
            ],
            [
                52.372171,
                4.875691
            ],
            [
                52.372165,
                4.875691
            ],
            [
                52.372151,
                4.875689
            ],
            [
                52.372092,
                4.875684
            ],
            [
                52.372067,
                4.875682
            ],
            [
                52.37206,
                4.875681
            ],
            [
                52.372025,
                4.875673
            ],
            [
                52.371999,
                4.875665
            ],
            [
                52.371972,
                4.875685
            ],
            [
                52.371918,
                4.875727
            ],
            [
                52.371877,
                4.875791
            ],
            [
                52.371712,
                4.875919
            ],
            [
                52.371446,
                4.876101
            ],
            [
                52.371246,
                4.876244
            ],
            [
                52.37121,
                4.87627
            ],
            [
                52.37098,
                4.876433
            ],
            [
                52.370782,
                4.876576
            ],
            [
                52.370418,
                4.876839
            ],
            [
                52.370335,
                4.876897
            ],
            [
                52.370215,
                4.876985
            ],
            [
                52.370058,
                4.877083
            ],
            [
                52.369865,
                4.877167
            ],
            [
                52.369764,
                4.877218
            ],
            [
                52.369698,
                4.877263
            ],
            [
                52.369097,
                4.877681
            ],
            [
                52.368928,
                4.877806
            ],
            [
                52.36892,
                4.877812
            ],
            [
                52.368896,
                4.877829
            ],
            [
                52.368864,
                4.877853
            ],
            [
                52.368841,
                4.877869
            ],
            [
                52.368813,
                4.877891
            ],
            [
                52.368767,
                4.877925
            ],
            [
                52.368739,
                4.877946
            ],
            [
                52.368729,
                4.877954
            ],
            [
                52.36871,
                4.877967
            ],
            [
                52.368664,
                4.878004
            ],
            [
                52.368523,
                4.878118
            ],
            [
                52.368328,
                4.878296
            ],
            [
                52.368023,
                4.878524
            ],
            [
                52.36733,
                4.879021
            ],
            [
                52.367075,
                4.879203
            ],
            [
                52.366886,
                4.879337
            ],
            [
                52.366749,
                4.879414
            ],
            [
                52.366653,
                4.879467
            ],
            [
                52.366502,
                4.878959
            ],
            [
                52.366426,
                4.878704
            ],
            [
                52.366371,
                4.878553
            ],
            [
                52.366326,
                4.878422
            ],
            [
                52.366174,
                4.878068
            ],
            [
                52.366171,
                4.878059
            ],
            [
                52.36614,
                4.877987
            ],
            [
                52.36609,
                4.87806
            ],
            [
                52.365973,
                4.87823
            ],
            [
                52.365775,
                4.878495
            ],
            [
                52.365685,
                4.878577
            ],
            [
                52.365565,
                4.878669
            ],
            [
                52.365474,
                4.878723
            ],
            [
                52.36525,
                4.878808
            ],
            [
                52.365133,
                4.878828
            ],
            [
                52.365094,
                4.878812
            ],
            [
                52.365055,
                4.878781
            ],
            [
                52.364689,
                4.878669
            ],
            [
                52.364511,
                4.878644
            ],
            [
                52.364424,
                4.878641
            ],
            [
                52.364281,
                4.878668
            ],
            [
                52.364218,
                4.878693
            ],
            [
                52.364162,
                4.878721
            ],
            [
                52.364006,
                4.878843
            ],
            [
                52.363965,
                4.87887
            ],
            [
                52.363848,
                4.878978
            ],
            [
                52.363802,
                4.878954
            ],
            [
                52.363747,
                4.878913
            ],
            [
                52.3637,
                4.878862
            ],
            [
                52.363687,
                4.87885
            ],
            [
                52.363677,
                4.87884
            ],
            [
                52.363669,
                4.878832
            ],
            [
                52.363638,
                4.87879
            ],
            [
                52.36357,
                4.878881
            ],
            [
                52.363392,
                4.879188
            ],
            [
                52.363029,
                4.879704
            ],
            [
                52.362932,
                4.879826
            ],
            [
                52.36289,
                4.879882
            ],
            [
                52.362886,
                4.879886
            ]
        ] as [number, number][]
    }
};

type RouteKey = keyof typeof ROUTES;

// Component to handle map view updates
function MapController({ center, zoom }: { center: [number, number], zoom: number }) {
    const map = useMap();
    useEffect(() => {
        map.setView(center, zoom);
    }, [center, zoom, map]);
    return null;
}

export default function MapIsland() {
    const [isMounted, setIsMounted] = useState(false);
    const [activeRoute, setActiveRoute] = useState<RouteKey>('sanctuary');
    const [userLocation, setUserLocation] = useState<[number, number] | null>(null);

    useEffect(() => {
        setIsMounted(true);

        // Get User Location on mount
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(
                (position) => {
                    setUserLocation([position.coords.latitude, position.coords.longitude]);
                },
                (error) => {
                    console.error("Error getting location:", error);
                }
            );
        }
    }, []);

    const handleLocateMe = () => {
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(
                (position) => {
                    const newLoc: [number, number] = [position.coords.latitude, position.coords.longitude];
                    setUserLocation(newLoc);
                    // Ideally we would flyTo here, but for now we rely on the user seeing the blue dot
                },
                (error) => console.error("Error locating:", error)
            );
        }
    };

    if (!isMounted) {
        return <div className="h-full w-full bg-background flex items-center justify-center text-text">Loading Map...</div>;
    }

    const currentRoute = ROUTES[activeRoute];

    return (
        <div className="h-full w-full absolute top-0 left-0 z-0">
            <MapContainer
                center={currentRoute.center}
                zoom={currentRoute.zoom}
                scrollWheelZoom={true}
                className="h-full w-full"
                zoomControl={false}
            >
                <MapController center={currentRoute.center} zoom={currentRoute.zoom} />

                <TileLayer
                    attribution='&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>'
                    url="https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png"
                />

                {/* Active Route Polyline */}
                <Polyline
                    positions={currentRoute.path}
                    pathOptions={{ color: currentRoute.color, weight: 4 }}
                />

                {/* User Location Marker */}
                {userLocation && (
                    <CircleMarker
                        center={userLocation}
                        radius={8}
                        pathOptions={{ color: '#ffffff', fillColor: '#2F80ED', fillOpacity: 1, weight: 2 }}
                    />
                )}
            </MapContainer>

            {/* Top Route Controls */}
            <div className="absolute top-6 left-0 w-full z-[400] flex justify-center space-x-3 px-4 overflow-x-auto">
                {(Object.keys(ROUTES) as RouteKey[]).map((key) => (
                    <button
                        key={key}
                        onClick={() => setActiveRoute(key)}
                        className={`px-4 py-2 rounded-full text-sm font-bold backdrop-blur-md transition-all shadow-lg border ${activeRoute === key
                            ? 'bg-white/20 border-white/40 text-white scale-105'
                            : 'bg-black/40 border-white/10 text-white/60 hover:bg-black/60'
                            }`}
                        style={{ borderColor: activeRoute === key ? ROUTES[key].color : undefined }}
                    >
                        {ROUTES[key].name}
                    </button>
                ))}
            </div>

            {/* Locate Me Button */}
            <button
                onClick={handleLocateMe}
                className="absolute top-24 right-4 z-[400] bg-black/60 backdrop-blur-md p-3 rounded-full border border-white/10 text-white hover:bg-white/10 transition-colors shadow-lg"
            >
                <Locate className="w-5 h-5" />
            </button>

            {/* Floating Route Info */}
            <div className="absolute bottom-24 left-1/2 transform -translate-x-1/2 z-[400] w-auto whitespace-nowrap">
                <div className="bg-white/10 backdrop-blur-md border border-white/20 rounded-full px-6 py-3 shadow-lg">
                    <span className="text-text font-medium text-sm tracking-wide">
                        {currentRoute.name} Loop <span className="mx-2 text-white/30">|</span> <span style={{ color: currentRoute.color }}>{currentRoute.distance}</span>
                    </span>
                </div>
            </div>
        </div>
    );
}
